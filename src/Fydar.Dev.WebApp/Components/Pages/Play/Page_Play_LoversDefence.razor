@layout GameLayout
@page "/play/loversdefence"

<HeadContent>
    @{
        var openGraphModel = new OpenGraphModel()
        {
            Title = "Play Lovers' Defence - Fydar",
            Description = "The Game Boy demake of the Nintendo DS Pok√©mon Diamond and Pearl underground mining minigame.",
            CanonicalUrl = "https://fydar.dev/play/loversdefence",
            Properties = [
                new OpenGraphModelImage()
                {
                    Url = "https://fydar.dev/media/loversdefence/social.webp",
                    Alt = "Promotional material for the game 'Lovers Defence'."
                }
            ]
        };
        var linkData = new LinkData()
        {
            new LinkDataBreadcrumbList()
            {
                new LinkDataBreadcrumbListItem()
                {
                    Name = "Play",
                    Item = "https://fydar.dev/play/"
                },
                new LinkDataBreadcrumbListItem()
                {
                    Name = "Lovers' Defence",
                    Item = "https://fydar.dev/play/loversdefence"
                }
            }
        };
    }
    <OpenGraphComponent Model="@openGraphModel" />
    <LinkDataComponent Model="@linkData" />
    <meta name="theme-color" content="#2c3840">
    <link rel="shortcut icon" href="@Assets["/play/loversdefence/favicon.ico"]">
    <link rel="manifest" href="@Assets["/play/loversdefence/manifest.webmanifest"]">
</HeadContent>

<EmbedUnity>
    <Configuration>
        <script>
            var config = {
                companyName: "Fydar",
                productName: "Lovers Defence",
                productVersion: "v1.0.0",
                dataUrl: "@Assets["play/loversdefence/build/loversdefence.data.br"]",
                codeUrl: "@Assets["play/loversdefence/build/loversdefence.wasm.br"]",
                frameworkUrl: "@Assets["play/loversdefence/build/loversdefence.framework.js.br"]",
                streamingAssetsUrl: "/play/loversdefence/StreamingAssets",
                arguments: [],
            };
            var loaderUrl = "@Assets["play/loversdefence/build/loversdefence.loader.js"]";
        </script>
    </Configuration>
    <Placeholder>
        <img src="@Assets["media/loversdefence/titlecard.png"]" alt="Title card for the game 'Lovers Defence'." style="width: 200px; max-width: 90%; margin-bottom: 32px; image-rendering: pixelated;" />
    </Placeholder>
</EmbedUnity>

<script>
    var serviceWorkerUrl = "@Assets["play/loversdefence/ServiceWorker.js"]";
    window.addEventListener("load", function () {
        if ("serviceWorker" in navigator) {
            navigator.serviceWorker.register(serviceWorkerUrl);
        }
    });
</script>
